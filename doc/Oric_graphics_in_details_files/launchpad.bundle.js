(()=>{"use strict";var e={916:(e,t,n)=>{var o;n.r(t),n.d(t,{NIL:()=>G,parse:()=>h,stringify:()=>l,v1:()=>C,v3:()=>M,v4:()=>L,v5:()=>D,validate:()=>i,version:()=>R});var r=new Uint8Array(16);function a(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(r)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const i=function(e){return"string"==typeof e&&s.test(e)};for(var d=[],c=0;c<256;++c)d.push((c+256).toString(16).substr(1));const l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase();if(!i(n))throw TypeError("Stringified UUID is invalid");return n};var u,p,f=0,g=0;const C=function(e,t,n){var o=t&&n||0,r=t||new Array(16),s=(e=e||{}).node||u,i=void 0!==e.clockseq?e.clockseq:p;if(null==s||null==i){var d=e.random||(e.rng||a)();null==s&&(s=u=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==i&&(i=p=16383&(d[6]<<8|d[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),C=void 0!==e.nsecs?e.nsecs:g+1,h=c-f+(C-g)/1e4;if(h<0&&void 0===e.clockseq&&(i=i+1&16383),(h<0||c>f)&&void 0===e.nsecs&&(C=0),C>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=c,g=C,p=i;var m=(1e4*(268435455&(c+=122192928e5))+C)%4294967296;r[o++]=m>>>24&255,r[o++]=m>>>16&255,r[o++]=m>>>8&255,r[o++]=255&m;var E=c/4294967296*1e4&268435455;r[o++]=E>>>8&255,r[o++]=255&E,r[o++]=E>>>24&15|16,r[o++]=E>>>16&255,r[o++]=i>>>8|128,r[o++]=255&i;for(var v=0;v<6;++v)r[o+v]=s[v];return t||l(r)};const h=function(e){if(!i(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var m="6ba7b810-9dad-11d1-80b4-00c04fd430c8",E="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v(e,t,n){function o(e,o,r,a){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof o&&(o=h(o)),16!==o.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(o),s.set(e,o.length),(s=n(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,r){a=a||0;for(var i=0;i<16;++i)r[a+i]=s[i];return r}return l(s)}try{o.name=e}catch(e){}return o.DNS=m,o.URL=E,o}function _(e){return 14+(e+64>>>9<<4)+1}function A(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function S(e,t,n,o,r,a){return A((s=A(A(t,e),A(o,a)))<<(i=r)|s>>>32-i,n);var s,i}function T(e,t,n,o,r,a,s){return S(t&n|~t&o,e,t,r,a,s)}function P(e,t,n,o,r,a,s){return S(t&o|n&~o,e,t,r,a,s)}function y(e,t,n,o,r,a,s){return S(t^n^o,e,t,r,a,s)}function I(e,t,n,o,r,a,s){return S(n^(t|~o),e,t,r,a,s)}const O=function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,o="0123456789abcdef",r=0;r<n;r+=8){var a=e[r>>5]>>>r%32&255,s=parseInt(o.charAt(a>>>4&15)+o.charAt(15&a),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[_(t)-1]=t;for(var n=1732584193,o=-271733879,r=-1732584194,a=271733878,s=0;s<e.length;s+=16){var i=n,d=o,c=r,l=a;n=T(n,o,r,a,e[s],7,-680876936),a=T(a,n,o,r,e[s+1],12,-389564586),r=T(r,a,n,o,e[s+2],17,606105819),o=T(o,r,a,n,e[s+3],22,-1044525330),n=T(n,o,r,a,e[s+4],7,-176418897),a=T(a,n,o,r,e[s+5],12,1200080426),r=T(r,a,n,o,e[s+6],17,-1473231341),o=T(o,r,a,n,e[s+7],22,-45705983),n=T(n,o,r,a,e[s+8],7,1770035416),a=T(a,n,o,r,e[s+9],12,-1958414417),r=T(r,a,n,o,e[s+10],17,-42063),o=T(o,r,a,n,e[s+11],22,-1990404162),n=T(n,o,r,a,e[s+12],7,1804603682),a=T(a,n,o,r,e[s+13],12,-40341101),r=T(r,a,n,o,e[s+14],17,-1502002290),n=P(n,o=T(o,r,a,n,e[s+15],22,1236535329),r,a,e[s+1],5,-165796510),a=P(a,n,o,r,e[s+6],9,-1069501632),r=P(r,a,n,o,e[s+11],14,643717713),o=P(o,r,a,n,e[s],20,-373897302),n=P(n,o,r,a,e[s+5],5,-701558691),a=P(a,n,o,r,e[s+10],9,38016083),r=P(r,a,n,o,e[s+15],14,-660478335),o=P(o,r,a,n,e[s+4],20,-405537848),n=P(n,o,r,a,e[s+9],5,568446438),a=P(a,n,o,r,e[s+14],9,-1019803690),r=P(r,a,n,o,e[s+3],14,-187363961),o=P(o,r,a,n,e[s+8],20,1163531501),n=P(n,o,r,a,e[s+13],5,-1444681467),a=P(a,n,o,r,e[s+2],9,-51403784),r=P(r,a,n,o,e[s+7],14,1735328473),n=y(n,o=P(o,r,a,n,e[s+12],20,-1926607734),r,a,e[s+5],4,-378558),a=y(a,n,o,r,e[s+8],11,-2022574463),r=y(r,a,n,o,e[s+11],16,1839030562),o=y(o,r,a,n,e[s+14],23,-35309556),n=y(n,o,r,a,e[s+1],4,-1530992060),a=y(a,n,o,r,e[s+4],11,1272893353),r=y(r,a,n,o,e[s+7],16,-155497632),o=y(o,r,a,n,e[s+10],23,-1094730640),n=y(n,o,r,a,e[s+13],4,681279174),a=y(a,n,o,r,e[s],11,-358537222),r=y(r,a,n,o,e[s+3],16,-722521979),o=y(o,r,a,n,e[s+6],23,76029189),n=y(n,o,r,a,e[s+9],4,-640364487),a=y(a,n,o,r,e[s+12],11,-421815835),r=y(r,a,n,o,e[s+15],16,530742520),n=I(n,o=y(o,r,a,n,e[s+2],23,-995338651),r,a,e[s],6,-198630844),a=I(a,n,o,r,e[s+7],10,1126891415),r=I(r,a,n,o,e[s+14],15,-1416354905),o=I(o,r,a,n,e[s+5],21,-57434055),n=I(n,o,r,a,e[s+12],6,1700485571),a=I(a,n,o,r,e[s+3],10,-1894986606),r=I(r,a,n,o,e[s+10],15,-1051523),o=I(o,r,a,n,e[s+1],21,-2054922799),n=I(n,o,r,a,e[s+8],6,1873313359),a=I(a,n,o,r,e[s+15],10,-30611744),r=I(r,a,n,o,e[s+6],15,-1560198380),o=I(o,r,a,n,e[s+13],21,1309151649),n=I(n,o,r,a,e[s+4],6,-145523070),a=I(a,n,o,r,e[s+11],10,-1120210379),r=I(r,a,n,o,e[s+2],15,718787259),o=I(o,r,a,n,e[s+9],21,-343485551),n=A(n,i),o=A(o,d),r=A(r,c),a=A(a,l)}return[n,o,r,a]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(_(t)),o=0;o<t;o+=8)n[o>>5]|=(255&e[o/8])<<o%32;return n}(e),8*e.length))};const M=v("v3",48,O);const L=function(e,t,n){var o=(e=e||{}).random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=o[r];return t}return l(o)};function N(e,t,n,o){switch(e){case 0:return t&n^~t&o;case 1:case 3:return t^n^o;case 2:return t&n^t&o^n&o}}function w(e,t){return e<<t|e>>>32-t}const b=function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var o=unescape(encodeURIComponent(e));e=[];for(var r=0;r<o.length;++r)e.push(o.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var a=e.length/4+2,s=Math.ceil(a/16),i=new Array(s),d=0;d<s;++d){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=e[64*d+4*l]<<24|e[64*d+4*l+1]<<16|e[64*d+4*l+2]<<8|e[64*d+4*l+3];i[d]=c}i[s-1][14]=8*(e.length-1)/Math.pow(2,32),i[s-1][14]=Math.floor(i[s-1][14]),i[s-1][15]=8*(e.length-1)&4294967295;for(var u=0;u<s;++u){for(var p=new Uint32Array(80),f=0;f<16;++f)p[f]=i[u][f];for(var g=16;g<80;++g)p[g]=w(p[g-3]^p[g-8]^p[g-14]^p[g-16],1);for(var C=n[0],h=n[1],m=n[2],E=n[3],v=n[4],_=0;_<80;++_){var A=Math.floor(_/20),S=w(C,5)+N(A,h,m,E)+v+t[A]+p[_]>>>0;v=E,E=m,m=w(h,30)>>>0,h=C,C=S}n[0]=n[0]+C>>>0,n[1]=n[1]+h>>>0,n[2]=n[2]+m>>>0,n[3]=n[3]+E>>>0,n[4]=n[4]+v>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]};const D=v("v5",80,b),G="00000000-0000-0000-0000-000000000000";const R=function(e){if(!i(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},740:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isEcstModuleLoaded",{enumerable:!0,get:function(){return o.isEcstModuleLoaded}}),Object.defineProperty(t,"sendDataToEcst",{enumerable:!0,get:function(){return o.sendDataToEcst}});var o=n(967)},967:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sendDataToEcst=t.isEcstModuleLoaded=void 0;var o=n(59);const r=(e,t)=>`https://${o.ECST_SEGMENTS_URL}?${(e=>{if(e)return Object.keys(e).filter((t=>e[t])).map((t=>[t,e[t]].map(encodeURIComponent).join("="))).join("&")})({...e,...t})}`;t.sendDataToEcst=async(e,t)=>{if(window.ats){const n=await(async()=>{const e={},t=await window.ats.retrieveEnvelope();if(t){e.it=o.IDENTIFIER_TYPES.IDENTITY_ENVELOPE;const n=decodeURIComponent(t),{envelope:r}=JSON.parse(n);e.iv=r}return e})(),a=(e=>((e=e||{})&&(e.ct===o.CMP_TYPES.CCPA&&(e.ct=o.CONSENT_TYPES.CCPA),e.ct===o.CMP_TYPES.GDPR&&(e.ct=o.CONSENT_TYPES.TCF_V2),e.ct===o.CMP_TYPES.GLOBAL_CMP&&e.uspString&&(e.ct=o.CONSENT_TYPES.CCPA,e.cv=e.uspString)),e.cv&&e.ct||(delete e.ct,delete e.cv),delete e.uspString,e))(e);return(async(e,t)=>{const n={method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"}};t&&(n.body=JSON.stringify({segments:t}));try{const t=await fetch(e,n);if(200===t.status&&t.ok)return"Data Successfully sent to eCST."}catch(e){return console.error(e),e.message}})(r(a,n),t)}};t.isEcstModuleLoaded=(e,t)=>e&&t&&t.enabled},59:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IDENTIFIER_TYPES=t.ECST_SEGMENTS_URL=t.CONSENT_TYPES=t.CMP_TYPES=void 0;t.CMP_TYPES={GDPR:"gdpr",CCPA:"ccpa",GLOBAL_CMP:"global"};t.CONSENT_TYPES={TCF_V2:"4",CCPA:"3"};t.IDENTIFIER_TYPES={IDENTITY_ENVELOPE:"19"};t.ECST_SEGMENTS_URL="di.rlcdn.com/api/segment"},365:(e,t,n)=>{const o=n(994),r={generate:e=>({...o,env:"",libraryVersion:e,geoTargetingUrl:"https://geo-dev.console.fktr.io",ccpaConfigUrl:"https://ccpa-wrapper-dev.console.fktr.io/ccpa",gdprConfigUrl:"https://gdpr-wrapper-dev.console.fktr.io/gdpr",globalCmpConfigUrl:"https://cmp-wrapper-dev.console.fktr.io",purposeListLocation:"https://cmp-vendors-dev.console.fktr.io/purpose-list.json",atsConfigUrl:"https://ats-wrapper-dev.console.fktr.io",gdprBundleUrl:"https://gdpr-dev.console.fktr.io/latest/gdpr.bundle.js",ccpaBundleUrl:"https://ccpa-dev.console.fktr.io/latest/ccpa.bundle.js",globalCmpBundleUrl:"https://cmp-dev.console.fktr.io/latest/cmp.bundle.js"})};e.exports=r},994:e=>{e.exports={env:null,configVersion:null,logging:!1,cmpRules:[],atsRules:[],triggers:[],preload:!0}},454:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(740),r=l(n(869)),a=n(646),s=n(434),i=l(n(501)),d=n(787),c=n(21);function l(e){return e&&e.__esModule?e:{default:e}}const u=[1,4,5,6];t.default=class{constructor(e,t,n,o,r){this.cmpHandler=o,this.intervalId=setInterval(this.checkConsent,100,e,t,n,o,r),this.geoLocation=e,this.ecst}isLocationUs=()=>"US"===this.geoLocation.country;checkConsent=(e,t,n,o,r)=>{o.activeCmp&&o.cmpLoaded?(o.checkConsent({data:[{vendorId:97,purposeIds:u}],recheckConsentOnChange:!0},((o,a)=>{a&&o?this.findAndLoadAts(e,t,n,r):i.default.debug("There's no consent for ATS.")})),clearInterval(this.intervalId)):(this.findAndLoadAts(e,t,n,r),clearInterval(this.intervalId))};findAndLoadAts=(e,t,n,o)=>{if(t&&t.length>0&&!window.ats){const n=t.find((t=>t.type===a.INTEGRATION_TYPES.ATS&&this.isAtsAllowedToLoad(t.triggers,e)));n&&(this.setEcstAdsEventListener(),this.loadAts(n.id,n.triggers,n.ecst,o))}else if(n&&n.length>0&&!window.ats){const t=n.find((t=>t.integrationType===a.INTEGRATION_TYPES.ATS&&this.isAtsAllowedToLoad(t.integration.conditions,e)));t&&this.loadAts(t.integration.configId,t.integration.conditions,null,o)}else window.ats||i.default.debug("Config without ATS.")};isAtsAllowedToLoad=(e,t)=>{const n=this.getGeoTargeting(e),o=this.getDomains(e);return!(!(0,s.isLocationSupported)(t,n)||!this.isDomainFulfilled(o,window.location.hostname))||(i.default.debug("ATS loading rules aren't fulfilled."),!1)};loadAts=(e,t,n,o)=>{switch(this.getLoadEvent(t)){case a.LOAD_EVENTS.PAGE_VIEW:this.insertAts(e,n,o);break;case a.LOAD_EVENTS.DOM_READY:this.loadOnDomReady(e,n,o);break;case a.LOAD_EVENTS.WINDOW_LOADED:this.loadOnWindowLoaded(e,n,o);break;default:i.default.debug("Unsupported load event.")}};getGeoTargeting=e=>{const t=e.find((e=>e.type===a.CONDITION_TYPES.GEO_TARGETING));return t?t.geoTargeting:null};getDomains=e=>{const t=[],n=e.find((e=>e.type===a.CONDITION_TYPES.PAGE_VIEW));return n&&n.rules.forEach((e=>{t.push(e.value)})),t};getLoadEvent=e=>{const t=e.find((e=>e.type===a.CONDITION_TYPES.LOAD_EVENT));return t?t.loadEvent:null};isDomainFulfilled=(e,t)=>{const n=(0,d.getUrlParam)("domain");return n&&(t=this.extractHostname(n)),!!t&&(t=this.removeWWW(t),e.some((e=>!!e&&(e=this.extractHostname(e),e=this.removeWWW(e),t.indexOf(e)>-1||e.indexOf(t)>-1))))};extractHostname=e=>(e&&(e.indexOf("//")>-1?[,,e]=e.split("/"):[e]=e.split("/"),[e]=e.split(":"),[e]=e.split("?")),e);removeWWW=e=>(e&&0===e.indexOf("www.")&&(e=e.replace("www.","")),e);loadOnDomReady=(e,t,n)=>{"complete"===document.readyState||"interactive"===document.readyState?this.insertAts(e,t,n):window.addEventListener("DOMContentLoaded",(()=>{this.insertAts(e,t,n)}))};loadOnWindowLoaded=(e,t,n)=>{"complete"===document.readyState?this.insertAts(e,t,n):window.addEventListener("load",(()=>{this.insertAts(e,t,n)}))};insertAts=(e,t,n)=>{n=n||(()=>{});const a=`${r.default.atsConfigUrl}/ats-modules/${e}/ats.js`;i.default.debug("Insert ATS wrapper with source: ",a);const s=document.createElement("script");s.setAttribute("src",a),s.setAttribute("id","liveramp-ats-wrapper"),document.head.appendChild(s),s.onload=()=>{this.ecst=t,i.default.debug("ATS wrapper loaded"),n("atsWrapperLoaded"),(0,o.isEcstModuleLoaded)(this.isLocationUs(),this.ecst)&&(0,c.dispatchModuleReadyEvent)("ecstModuleReady")},s.onerror=()=>{i.default.error("Unable to load ATS wrapper: ",a),n("atsWrapperNotLoaded")}};setEcstAdsEventListener=()=>{window.googletag&&window.googletag.cmd.push((()=>{window.googletag.pubads().addEventListener("slotRenderEnded",(e=>{const{slot:t}=e,n={slot:t.getSlotElementId(),advertiserId:e.advertiserId,campaignId:e.campaignId,creativeId:e.creativeId,lineItemId:e.lineItemId};this.sendDataToEcstModule(null,n,(e=>console.log(e)))}))}))};sendDataToEcstModule=async(e,t,n)=>{if((0,o.isEcstModuleLoaded)(this.isLocationUs(),this.ecst))if(e=e||null,(t=t||{}).pid=this.ecst.id,t.ct=this.cmpHandler.getActiveCmpType(),t.cv=await this.cmpHandler.getConsentString(),t.uspString=(0,d.readFromLocalStorage)("usprivacy"),t.uspString&&"Y"===t.uspString[2])n("Not able to send data to eCST. No consent exists.");else{n(await(0,o.sendDataToEcst)(t,e))}}}},744:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(869)),r=n(646),a=n(434),s=c(n(501)),i=c(n(294)),d=n(787);function c(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e,t,n){this.cmp=this.loadCmp(e,t,n)}loadCmp=(e,t,n)=>{const o=this.findCmpBasedOnGeo(e,t);if(!o)return s.default.debug("Cmp that meets all conditions not found."),n("noCmpApplies"),null;const a=this.findAppIdFromCmp(o);if(!a)return s.default.debug("No app found inside a cmp."),n("noCmpApplies"),null;const i=this.getWrapperSrc(a,o.type),d=o.triggers.find((e=>e.type===r.TRIGGER_TYPES.GEO));return this.addConfigWrapper(i,d.condition,n),this.preloadCmpBundle(o.type),o};getWrapperSrc=(e,t)=>{let n="";return t===r.CMP_TYPES.GDPR?n=`${o.default.gdprConfigUrl}/${e}/gdpr-liveramp.js`:t===r.CMP_TYPES.CCPA?n=`${o.default.ccpaConfigUrl}/${e}/ccpa-liveramp.js`:t===r.CMP_TYPES.GLOBAL_CMP&&(n=`${o.default.globalCmpConfigUrl}/${e}/cmp-liveramp.js`),n};addConfigWrapper=(e,t,n)=>{s.default.debug("Adding wrapper with source: ",e);const o=document.createElement("script");o.setAttribute("src",e),o.setAttribute("id","liveramp-cmp-wrapper"),o.dataset.geoTargeting=JSON.stringify(t),o.dataset.auditId=(0,d.readAuditId)(),document.head.appendChild(o),o.onload=()=>{this.activeCmp=this.cmp,this.cmpLoaded=!0,s.default.debug("CMP wrapper loaded"),n("cmpWrapperLoaded")},o.onerror=()=>{s.default.error("Unable to load CMP wrapper: ",e),n("cmpWrapperNotLoaded"),this.cmpLoaded=!0}};preloadCmpBundle=e=>{if(o.default.preload){const t=this.getCmpBundleUrl(e);if(t){s.default.debug(`Preload ${e} bundle`);const n=document.createElement("link");n.href=t,n.rel="preload",n.as="script",document.head.appendChild(n)}}else s.default.debug("Preload disabled")};getCmpBundleUrl=e=>e===r.CMP_TYPES.GDPR?o.default.gdprBundleUrl:e===r.CMP_TYPES.CCPA?o.default.ccpaBundleUrl:e===r.CMP_TYPES.GLOBAL_CMP?o.default.globalCmpBundleUrl:null;findAppIdFromCmp=e=>!e.apps||e.apps.length<=0?null:1===e.apps.length?((0,d.writeVariantWeightAppId)(e.apps[0].id),e.apps[0].id):this.findVariantWeightAppId(e.apps);findVariantWeightAppId=e=>{const t=(0,d.readVariantWeightAppId)();if(t){if(e.some((e=>e.id===t)))return s.default.debug("Using appId from variant weight cookie:",t),t}return this.getAppIdByChance(e)};getAppIdByChance=e=>{let t=0;e.forEach((e=>{t+=+e.weight}));let n=Math.random()*t;for(const t of e){if(n<+t.weight){const e=t.id;return s.default.debug("Got app from dice roll:",e),(0,d.writeVariantWeightAppId)(e),e}n-=+t.weight}return null};findCmpBasedOnGeo=(e,t)=>!t||t.length<=0?null:t.find((t=>{const n=t.triggers.find((e=>e.type===r.TRIGGER_TYPES.GEO));return(0,a.isLocationSupported)(e,n.condition)}));getActiveCmpType=()=>this.activeCmp?this.activeCmp.type:null;getCmpApplies=e=>{this.executeCmpCommand(r.CMP_COMMANDS.APPLIES,null,e)};getCmpVendorList=e=>{this.executeCmpCommand(r.CMP_COMMANDS.GET_VENDOR_LIST,null,e)};getConsentString=()=>new Promise((e=>{this.getCmpConsent((t=>e(t&&t.tcString?t.tcString:null)))}));getCmpConsent=e=>{const t=this.activeCmp&&this.activeCmp.type===r.CMP_TYPES.CCPA?{includeUspString:!0}:null;this.executeCmpCommand(r.CMP_COMMANDS.GET_CONSENT,t,e)};checkConsent=(e,t)=>{e?this.activeCmp.type===r.CMP_TYPES.GLOBAL_CMP?(e.ignoreUnsupported=!0,this.executeCmpCommand(r.CMP_COMMANDS.CHECK_CONSENT,e,t)):i.default.getPurposeList().then((n=>{e.data=e.data?this.remapCheckConsentData(e.data,n):null,e.ignoreUnsupported=!0,this.executeCmpCommand(r.CMP_COMMANDS.CHECK_CONSENT,e,t)})).catch((e=>{s.default.error("Unable to check consent: ",e),t(null,!1)})):this.executeCmpCommand(r.CMP_COMMANDS.CHECK_CONSENT,null,t)};accept=(e,t)=>{this.updateConsent(r.CMP_COMMANDS.ACCEPT,e,t)};reject=(e,t)=>{this.updateConsent(r.CMP_COMMANDS.REJECT,e,t)};setCmpAuditId=(e,t)=>{this.executeCmpCommand(r.CMP_COMMANDS.SET_AUDIT_ID,e,t)};showConsentManager=(e,t)=>{this.executeCmpCommand(r.CMP_COMMANDS.SHOW_CONSENT_MANAGER,e,t)};getConsentCriteria=(e,t)=>{this.executeCmpCommand(r.CMP_COMMANDS.GET_CONSENT_CRITERIA,e,t)};executeCmpCommand=(e,t,n)=>{this.activeCmp?this.handleCmpCommandCall(this.activeCmp.type,e,t,n):n(null,!0)};handleCmpCommandCall=(e,t,n,o)=>{e===r.CMP_TYPES.GDPR?window[r.CMP_APIS.GDPR](r.GDPR_COMMANDS[t],null,o,n):e===r.CMP_TYPES.CCPA?window[r.CMP_APIS.CCPA](r.CCPA_COMMANDS[t],n,null,o):e===r.CMP_TYPES.GLOBAL_CMP?window[r.CMP_APIS.GLOBAL_CMP](r.GLOBAL_CMP_COMMANDS[t],null,o,n):o(null,!1)};isObject=e=>{const t=typeof e;return("function"===t||"object"===t&&!!e)&&e.constructor!==Array};remapCheckConsentData=(e,t)=>{const n=this.activeCmp.type;if(this.isObject(e))return this.remapCheckConsentItem(e,t,n);if(e.length){const o=[];return e.forEach((e=>{const r=this.remapCheckConsentItem(e,t,n);o.push(r)})),o}return null};remapCheckConsentItem=(e,t,n)=>{if(t.purposes&&e.purposeIds&&e.purposeIds.length>0){const o=[],a=[];e.purposeIds.forEach((e=>{const s=t.purposes[e];o.push(...s[n].purposes),n===r.CMP_TYPES.GDPR&&a.push(...s[n].specialFeatures)}));const s={vendorId:e.vendorId,isPublisher:e.isPublisher};return o.length>0&&(s.purposeIds=o.filter(((e,t)=>e&&o.indexOf(e)===t))),a.length>0&&(s.specialFeatureIds=a.filter(((e,t)=>e&&a.indexOf(e)===t))),s}return e};updateConsent=(e,t,n)=>{t&&this.isObject(t)?i.default.getPurposeList().then((o=>{t=this.remapUpdateConsent(t,o,e===r.CMP_COMMANDS.ACCEPT),this.executeCmpCommand(e,t,n)})).catch((()=>{n(null,!1)})):this.executeCmpCommand(e,null,n)};remapUpdateConsent=(e,t,n)=>{const{purposeIds:o,vendorIds:a,consentOnDemand:s=!1,publisher:i={}}=e||{};let d=[];const c=[];if(t.purposes&&o&&o.length>0&&(o.forEach((e=>{const n=t.purposes[e];d.push(...n[this.activeCmp.type].purposes),this.activeCmp.type===r.CMP_TYPES.GDPR&&c.push(...n[this.activeCmp.type].specialFeatures)})),d=d.filter(((e,t)=>e&&d.indexOf(e)===t))),this.activeCmp.type===r.CMP_TYPES.GDPR){const e={consentOnDemand:s,vendorIds:a,legIntVendorIds:a};if(d.length>0&&(e.purposeIds=d,e.legIntPurposeIds=d),c.length>0&&(e.specialFeatureIds=c.filter(((e,t)=>e&&c.indexOf(e)===t))),i&&i.purposeIds&&i.purposeIds.length>0){const n=[];i.purposeIds.forEach((e=>{const o=t.purposes[e];n.push(...o[r.CMP_TYPES.GDPR].purposes)})),e.publisher={},n.length>0&&(e.publisher.purposeIds=n.filter(((e,t)=>e&&n.indexOf(e)===t)))}return e}if(this.activeCmp.type===r.CMP_TYPES.GLOBAL_CMP){const e={};if(a&&a.length>0&&(e.vendors={},a.forEach((t=>{e.vendors[t]={consent:n,legitimateInterest:n,purposes:d,legIntPurposes:d}}))),i){let o=[];i.purposeIds&&i.purposeIds.length>0&&(i.purposeIds.forEach((e=>{const n=t.purposes[e];o.push(...n[r.CMP_TYPES.GLOBAL_CMP].purposes)})),o=o.filter(((e,t)=>e&&o.indexOf(e)===t))),e.publisher={consent:n,legitimateInterest:n,purposes:o,legIntPurposes:o}}}else if(this.activeCmp.type===r.CMP_TYPES.CCPA){const e=[];return a&&a.length>0&&a.forEach((t=>{const n={vendorId:t};d.length>0&&(n.purposeIds=d),e.push(n)})),e}return null}}},869:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=a?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(o,s,i):o[s]=e[s]}o.default=e,n&&n.set(e,o);return o}(n(365));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}const a={env:"production",configVersion:null,logging:!1,cmpRules:[],atsRules:[],triggers:[],preload:!0,libraryVersion:"1.3.1",geoTargetingUrl:"https://geo.privacymanager.io",ccpaConfigUrl:"https://ccpa-wrapper.privacymanager.io/ccpa",gdprConfigUrl:"https://gdpr-wrapper.privacymanager.io/gdpr",globalCmpConfigUrl:"https://cmp-wrapper.privacymanager.io",purposeListLocation:"https://cmp-vendors.privacymanager.io/purpose-list.json",atsConfigUrl:"https://ats-wrapper.privacymanager.io",gdprBundleUrl:"https://gdpr.privacymanager.io/latest/gdpr.bundle.js",ccpaBundleUrl:"https://ccpa.privacymanager.io/latest/ccpa.bundle.js",globalCmpBundleUrl:"https://cmp.privacymanager.io/latest/cmp.bundle.js"}||o.generate();function s(e,t){const n={...e,...t};return Object.keys(e).forEach((o=>{e[o]&&"object"==typeof e[o]&&(function(e){const t=typeof e;return("function"===t||"object"===t&&!!e)&&e.constructor!==Array}(e[o])&&t[o]?n[o]=s(e[o],t[o]):!t[o]||t[o].constructor!==String&&t[o].constructor!==Array?e[o].constructor===String||e[o].constructor===Array?n[o]=e[o]:n[o]={...e[o],...t[o]}:n[o]=t[o])})),n}var i=new class{constructor(){this.update(a)}update=e=>{if(e&&"object"==typeof e){const t=Object.keys(a),{validUpdates:n}=Object.keys(e).reduce(((n,o)=>(t.indexOf(o)>-1&&(n.validUpdates={...n.validUpdates,[o]:e[o]}),n)),{validUpdates:{}}),o=s(this,n);Object.assign(this,o)}}};t.default=i},646:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TRIGGER_TYPES=t.LOAD_EVENTS=t.INTEGRATION_TYPES=t.GLOBAL_CMP_COMMANDS=t.GDPR_COMMANDS=t.GA_EVENT_CATEGORY_PREFIX=t.CONDITION_TYPES=t.CMP_TYPES=t.CMP_COMMANDS=t.CMP_APIS=t.CCPA_COMMANDS=void 0;t.TRIGGER_TYPES={GEO:"geo"};t.CMP_TYPES={GDPR:"gdpr",CCPA:"ccpa",GLOBAL_CMP:"global"};t.CMP_APIS={GDPR:"__tcfapi",CCPA:"__ccpa",GLOBAL_CMP:"__lrcmp"};t.CMP_COMMANDS={APPLIES:"APPLIES",GET_VENDOR_LIST:"GET_VENDOR_LIST",GET_CONSENT:"GET_CONSENT",CHECK_CONSENT:"CHECK_CONSENT",SET_AUDIT_ID:"SET_AUDIT_ID",ACCEPT:"ACCEPT",REJECT:"REJECT",SHOW_CONSENT_MANAGER:"SHOW_CONSENT_MANAGER",GET_CONSENT_CRITERIA:"GET_CONSENT_CRITERIA"};t.GDPR_COMMANDS={APPLIES:"gdprApplies",GET_VENDOR_LIST:"getVendorList",GET_CONSENT:"getFullTCData",CHECK_CONSENT:"checkConsent",SET_AUDIT_ID:"setAuditId",ACCEPT:"accept",REJECT:"reject",SHOW_CONSENT_MANAGER:"showConsentManager",GET_CONSENT_CRITERIA:"getConsentCriteria"};t.CCPA_COMMANDS={APPLIES:"ccpaApplies",GET_VENDOR_LIST:"getVendorList",GET_CONSENT:"getConsent",CHECK_CONSENT:"checkConsent",SET_AUDIT_ID:"setAuditId",ACCEPT:"optIn",REJECT:"optOut",SHOW_CONSENT_MANAGER:"showConsentManager"};t.GLOBAL_CMP_COMMANDS={APPLIES:"cmpApplies",GET_VENDOR_LIST:"getVendorList",GET_CONSENT:"getConsentData",CHECK_CONSENT:"checkConsent",SET_AUDIT_ID:"setAuditId",ACCEPT:"accept",REJECT:"reject",SHOW_CONSENT_MANAGER:"showConsentTool",GET_CONSENT_CRITERIA:"getConsentCriteria"};t.INTEGRATION_TYPES={ATS:"ATS",GOOGLE_ANALYTICS:"GOOGLE_ANALYTICS"};t.LOAD_EVENTS={PAGE_VIEW:"PAGE_VIEW",DOM_READY:"DOM_READY",WINDOW_LOADED:"WINDOW_LOADED"};t.CONDITION_TYPES={LOAD_EVENT:"LOAD_EVENT",GEO_TARGETING:"GEO_TARGETING",PAGE_VIEW:"PAGE_VIEW"};t.GA_EVENT_CATEGORY_PREFIX="lr"},944:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={isCmpLoaded:{gdpr:"isLoaded",ccpa:"isLoaded",global:"isLoaded"},isCmpReady:{gdpr:"cmpReady",ccpa:"isReady",global:"isReady"},commandQueued:{gdpr:"commandQueued",ccpa:"commandQueued",global:"commandQueued"},dauLogSent:{gdpr:"dauLogSent",ccpa:null,global:"dauLogSent"},auditIdChanged:{gdpr:"auditIdChanged",ccpa:null,global:"auditIdChanged"},consentChanged:{gdpr:"consentChanged",ccpa:"consentChanged",global:"consentChanged"},disabledCookies:{gdpr:"disabledCookies",ccpa:"disabledCookies",global:"disabledCookies"},saveAndExit:{gdpr:"saveAndExitButtonClicked",ccpa:"saveAndExitButtonClicked",global:"saveAndExitButtonClicked"},consentToolShouldBeShown:{gdpr:"consentToolShouldBeShown",ccpa:"consentToolShouldBeShown",global:"consentToolShouldBeShown"},acceptAllButtonClicked:{gdpr:"acceptAllButtonClicked",ccpa:null,global:"acceptAllButtonClicked"},rejectAllButtonClicked:{gdpr:"denyAllButtonClicked",ccpa:"doNotSellMyDataButtonClicked",global:"rejectAllButtonClicked"},noticeAlreadyShown:{gdpr:"consentNoticeAlreadyShown",ccpa:"consentNoticeAlreadyShown",global:"consentNoticeAlreadyShown"},managerAlreadyShown:{gdpr:"consentManagerAlreadyShown",ccpa:"consentManagerAlreadyShown",global:"consentManagerAlreadyShown"},exitButtonClicked:{gdpr:"exitButtonClicked",ccpa:"exitButtonClicked",global:"exitButtonClicked"},toggleButtonClicked:{gdpr:"toggleButtonClicked",ccpa:"toggleButtonClicked",global:"toggleButtonClicked"},vendorListChanged:{gdpr:null,ccpa:null,global:"vendorListChanged"},managerDisplayed:{gdpr:"consentManagerDisplayed",ccpa:"consentManagerDisplayed",global:"consentManagerDisplayed"},managerClosed:{gdpr:"consentManagerClosed",ccpa:"consentManagerClosed",global:"consentManagerClosed"},noticeDisplayed:{gdpr:"consentNoticeDisplayed",ccpa:"consentNoticeDisplayed",global:"consentNoticeDisplayed"},noticeClosed:{gdpr:"consentNoticeClosed",ccpa:"consentNoticeClosed",global:"consentNoticeClosed"}};t.default=n},117:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{configUpdates:t}=e;a.default.update(t),f(a.default),c.default.debug("Using configuration: ",JSON.stringify(a.default));const n=Date.now(),{commandQueue:l=[],VERSION:u}=window[i.GLOBAL_NAME]||{};if(u)return void c.default.error("LaunchPad already loaded");const p=parseInt(a.default.libraryVersion,10),g=new i.default(p);g.commandQueue=l,window[i.GLOBAL_NAME]=g.processCommand;const C=Date.now();return c.default.debug(`Successfully loaded version: ${p} in ${C-n}ms`),g.isLoaded=!0,g.status="loaded",g.notify("isLoaded"),(0,d.getLocation)().then((e=>{c.default.debug("Location: ",e),g.processCommandQueue(),g.isReady=!0,g.notify("isReady"),c.default.debug(`Ready in: ${Date.now()-C}ms`),navigator.cookieEnabled||g.notify("disabledCookies"),g.cmpHandler=new r.default(e,a.default.cmpRules,g.notify),g.atsHandler=new o.default(e,a.default.atsRules,a.default.triggers,g.cmpHandler,g.notify),g.integrationsHandler=new s.default(a.default.triggers,g.cmpHandler)})).catch((e=>{c.default.error("Failed to load: ",e),g.status="error"})),p};var o=p(n(454)),r=p(n(744)),a=p(n(869)),s=p(n(385)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,n&&n.set(e,o);return o}(n(38)),d=n(434),c=p(n(501)),l=n(787);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}const f=()=>{const e=(0,l.getUrlParam)("logging");"true"!==e&&"false"!==e||(a.default.logging="true"===e)}},385:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(646),r=s(n(944)),a=s(n(501));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class{constructor(e,t){this.loadIntegrations(e,t)}loadIntegrations=(e,t)=>{e&&e.length>0?e.forEach((e=>{e.integrationType===o.INTEGRATION_TYPES.GOOGLE_ANALYTICS&&(this.intervalId=setInterval(this.loadGoogleAnalytics,500,t,e.conditions))})):a.default.debug("Config without Integrations.")};loadGoogleAnalytics=(e,t)=>{t&&t[0]&&t[0].cmpEvents?e.cmpLoaded&&e.activeCmp&&(t[0].cmpEvents.forEach((t=>{this.addGAEventListener(e.activeCmp.type,t)})),clearInterval(this.intervalId)):clearInterval(this.intervalId)};addGAEventListener=(e,t)=>{const n=this.getCmpApiByCmpType(e),r=this.getCmpEventByCmpType(e,t);n&&r?window[n]("addEventListener",null,(()=>{void 0!==window.gtag&&window.gtag("event",r,{event_category:`${o.GA_EVENT_CATEGORY_PREFIX}-${e}`,event_label:r,value:r})}),r):a.default.debug("Invalid cmp type.")};getCmpEventByCmpType=(e,t)=>{if(r.default[t])return r.default[t][e]};getCmpApiByCmpType=e=>e===o.CMP_TYPES.GDPR?o.CMP_APIS.GDPR:e===o.CMP_TYPES.CCPA?o.CMP_APIS.CCPA:e===o.CMP_TYPES.GLOBAL_CMP?o.CMP_APIS.GLOBAL_CMP:void 0}},38:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VERSION=t.LOCATOR_NAME=t.GLOBAL_NAME=t.CALL_NAME=void 0;var o=s(n(869)),r=s(n(501)),a=n(787);function s(e){return e&&e.__esModule?e:{default:e}}const i="__launchpad";t.GLOBAL_NAME=i;const d=`${i}Call`;t.CALL_NAME=d;const c=`${i}Locator`;t.LOCATOR_NAME=c;let l=parseInt(o.default.libraryVersion,10)||1;t.VERSION=l;const u=`${i}Return`;t.default=class{constructor(e){this.isLoaded=!1,this.isReady=!1,this.isCmpLoaded=!1,this.isAtsLoaded=!1,this.status="stub",this.eventListeners={},this.processCommand.receiveMessage=this.receiveMessage,e&&(t.VERSION=l=e),this.processCommand.VERSION=l,this.commandQueue=[]}commands={ping:(e,t)=>{t=t||(()=>{}),e&&1!==e||!this.cmpHandler?t(null,!1):this.cmpHandler.getCmpApplies(((e,n)=>{const o={loaded:this.isLoaded,status:this.status,apiVersion:"1.0",libraryVersion:l,cmpType:this.cmpHandler.getActiveCmpType(),cmpApplies:e};t(o,n)}))},getVendorList:(e,t)=>{t=t||(()=>{}),e&&1!==e?t(null,!1):this.cmpHandler.getCmpVendorList(t)},getConsentData:(e,t)=>{t=t||(()=>{}),e&&1!==e?t(null,!1):this.cmpHandler.getCmpConsent(t)},checkConsent:(e,t,n)=>{t=t||(()=>{}),e&&1!==e?t(null,!1):this.cmpHandler.checkConsent(n,t)},ecst:async(e,t)=>{t=t||(()=>{}),this.atsHandler.sendDataToEcstModule(e,null,t)},accept:(e,t,n)=>{t=t||(()=>{}),e&&1!==e?t(null,!1):this.cmpHandler.accept(n,t)},reject:(e,t,n)=>{t=t||(()=>{}),e&&1!==e?t(null,!1):this.cmpHandler.reject(n,t)},getAuditId:(e,t)=>{if(t=t||(()=>{}),e&&1!==e)return void t(null,!1);t((0,a.readAuditId)(),!0)},resetAuditId:(e,t)=>{if(t=t||(()=>{}),e&&1!==e)return void t(null,!1);const n=(0,a.writeAuditId)();this.cmpHandler.setCmpAuditId(n,t)},showConsentManager:(e,t,n)=>{t=t||(()=>{}),e&&1!==e?t(null,!1):this.cmpHandler.showConsentManager(n,t)},getConsentCriteria:(e,t,n)=>{t=t||(()=>{}),e&&1!==e?t(null,!1):this.cmpHandler.getConsentCriteria(n,t)},addEventListener:(e,t,n)=>{if(t=t||(()=>{}),e&&1!==e)return void t(null,!1);if(!n)return void t({error:"Event not provided"},!1);const o=this.eventListeners[n]||new Set;o.add(t),this.eventListeners[n]=o,"isLoaded"===n&&this.isLoaded&&t({event:n},!0)},removeEventListener:(e,t,n)=>{if(t=t||(()=>{}),e&&1!==e)return void t(null,!1);let o=!1;if(n){if(isNaN(n)){const e=this.eventListeners[n]||new Set;e.clear(),this.eventListeners[n]=e,o=!0}}else this.eventListeners={},o=!0;t(o)}};processCommandQueue=()=>{const e=[...this.commandQueue];e.length&&(r.default.info(`Process ${e.length} queued commands`),this.commandQueue=[],e.forEach((e=>{if(Array.isArray(e)){const[t,n,o,r]=e;this.processCommand(t,n,o,r)}else{const{callId:t,command:n,parameter:o,version:r,callback:a,event:s}=e;s?this.processCommand(n,r,((e,o)=>{const r={[u]:{callId:t,command:n,returnValue:e,success:o}};s.source.postMessage(r,s.origin)}),o):this.processCommand(n,r,a,o)}})))};receiveMessage=e=>{let{data:t,origin:n,source:o}=e;if(t){const{[d]:e}=t;if(e){const{callId:t,command:r,parameter:a,version:s}=e;this.processCommand(r,s,((e,a)=>{const s={[u]:{callId:t,command:r,returnValue:e,success:a}};o.postMessage(s,n)}),a)}}};processCommand=(e,t,n,o)=>{"function"!=typeof this.commands[e]?r.default.error(`Invalid Command "${e}"`):"ecst"===e||"ping"===e||"addEventListener"===e||this.isReady&&this.isCmpLoaded?"ecst"!==e||this.isAtsLoaded?(r.default.info(`Process command: ${e}, parameter: ${o}, version: ${t}`),this.commands[e](t,n,o)):this.pushToCommandQueue(e,t,n,o,"ATS"):this.pushToCommandQueue(e,t,n,o,"launchpad")};pushToCommandQueue=(e,t,n,o,a)=>{r.default.info(`Queuing command: ${e} until ${a} is ready`),this.commandQueue.push({command:e,version:t,callback:n,parameter:o}),this.notify("commandQueued",{command:e})};notify=(e,t)=>{r.default.info(`Notify event: ${e}`);(this.eventListeners[e]||new Set).forEach((n=>{n({event:e,data:t},!0)})),"cmpWrapperLoaded"===e&&(this.isCmpLoaded=!0,this.processCommandQueue()),"atsWrapperLoaded"===e&&(this.isAtsLoaded=!0,this.processCommandQueue())}}},434:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=void 0,t.isLocationSupported=function(e,t){let n=!1;if(t.allCountries)n=!0;else{const o=t.countries.includes(e.country);if(o&&"US"===e.country)if(t.allStates)n=!0;else{const o=!!(t.states&&t.states.length>0)&&t.states.includes(e.region);n=t.includeSelection?o:!o}else n=t.includeSelection?o:!o}return n};var o=s(n(869)),r=s(n(501)),a=n(787);function s(e){return e&&e.__esModule?e:{default:e}}t.getLocation=()=>{let e=(0,a.readGeoLocation)();return e=(e=>{const t=(0,a.getUrlParam)("lrcountry"),n=(0,a.getUrlParam)("lrregion");return e?(t&&(e.country=t),n&&(e.region=n),e):{country:t,region:n}})(e),e&&e.country?Promise.resolve(e):fetch(o.default.geoTargetingUrl,{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json())).catch((e=>{r.default.error("Failed to fetch location: ",e)})).then((e=>e&&e.country?((0,a.writeGeoLocation)(e),e):null))}},501:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=(o=n(869))&&o.__esModule?o:{default:o},a=void 0;const s=["debug","info","warn","error"];var i=s.reduce(((e,t,n)=>(e[t]=function(){const e="debug"===t?"log":t,{logging:o}=r.default;if(Function.prototype.bind&&window.console&&"object"==typeof console.log&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach((e=>{console[e]=a.bind(console[e],console)}),Function.prototype.call),o&&console&&"function"==typeof console[e]){const r=s.indexOf(o.toString().toLocaleLowerCase());if(!0===o||r>-1&&n>=r){for(var i=arguments.length,d=new Array(i),c=0;c<i;c++)d[c]=arguments[c];const[n,...o]=[...d];console[e](`${t.toUpperCase()} - (LaunchPad) ${n}`,...o)}}},e)),{});t.default=i},294:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(869)),r=a(n(501));function a(e){return e&&e.__esModule?e:{default:e}}const s="cmpPurposeList";var i=new class{constructor(){this.purposeList=null}getPurposeList=()=>this.purposeList?Promise.resolve(this.purposeList):this.retrieveCachedData(s,this.fetchPurposeList).then((e=>(this.purposeList=e,this.purposeList))).catch((e=>(r.default.error("Failed to retrieve purpose list",e),this.purposeList)));fetchPurposeList=()=>{const e=o.default.purposeListLocation;return fetch(e,{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json())).then((e=>(this.cacheData(s,e),e))).catch((t=>{r.default.error(`Failed to load purpose list from ${e}`,t)}))};retrieveCachedData=(e,t)=>{try{if(localStorage){const t=JSON.parse(localStorage.getItem(e));if(t&&t.data&&t.expire>+new Date)return Promise.resolve(t.data)}return t()}catch(n){return r.default.error(`Unable to parse ${e} from localStorage`,n),t()}};cacheData=(e,t)=>{try{if(localStorage&&t&&t.purposes){const n={data:t,expire:+this.generateExpirationDate()};localStorage.setItem(e,JSON.stringify(n))}}catch(t){r.default.error(`Unable cache ${e} to localStorage`,t)}};generateExpirationDate=()=>{const e=new Date;return 4===e.getDay()&&e.getHours()>18?e.setDate(e.getDate()+7):e.setDate(e.getDate()+((7-e.getDay())%7+4)%7),e.setHours(18),e.setMinutes(0),e}};t.default=i},787:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=function(e){return function(){const e=window.location.href.split("?")[1],t={};if(e){const n=e.split("&");for(const e of n){const[n,o]=e.split("=");t[n]=o}}return t}()[e]},t.readAuditId=function(){const e=f(l);if(e)return e;return C()},t.readFromLocalStorage=f,t.readGeoLocation=function(){const e=f(d);if(a.default.debug("Read geoLocation: ",e),e)try{return JSON.parse(e)}catch(e){a.default.debug("Error while parsing geoLocation: ",e)}return null},t.readVariantWeightAppId=function(){const e=f(c);if(a.default.debug("Read variant weight appId:",e),e)return e;return null},t.writeAuditId=C,t.writeCookie=p,t.writeGeoLocation=function(e){a.default.debug("Writing geoLocation: ",e),g(d,JSON.stringify(e),i)},t.writeVariantWeightAppId=function(e){a.default.debug("Writing variant weight appId:",e),g(c,e)};var o,r=n(916),a=(o=n(501))&&o.__esModule?o:{default:o};const s=33696e3,i=86400,d="geo-location",c="variant-weight-appId",l="auditId";function u(e){const t=`; ${document.cookie}`.split(`; ${e}=`);return t.length>=2?t.pop().split(";").shift():null}function p(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/";const r=null===n?"":`;max-age=${n}`,a=null===n?"":`;expires=${new Date(1*new Date+1e3*n).toUTCString()}`;return o=`;path=${o}`,document.cookie=`${e}=${t}${o}${r}${a};SameSite=Lax`,u(e)}function f(e){try{if(localStorage){const t=JSON.parse(localStorage.getItem(e));if(t&&t.data){if(!t.expire||t.expire>+new Date)return t.data;const n=u(e);return n||t.data}}}catch(t){a.default.error(`Unable to parse ${e} from localStorage: `,t)}return u(e)}function g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;try{if(localStorage){if(t){const o={data:t,expire:+new Date(1*new Date+1e3*n)};localStorage.setItem(e,JSON.stringify(o))}else localStorage.removeItem(e);return t}}catch(t){a.default.error(`Unable to store ${e} to localStorage: `,t)}return p(e,t,n)}function C(e){let t=e||(0,r.v4)();return t=t.replace(/[^\w\s]/gi,""),g(l,t,s)}},458:()=>{!function(){if("function"!=typeof window.__launchpad){var e=[],t=window,n=t.document,o=t.__launchpad?t.__launchpad.start:function(){};function r(){var e=!!t.frames.__launchpadLocator;if(!e)if(n.body){var o=n.createElement("iframe");o.style.cssText="display:none",o.name="__launchpadLocator",n.body.appendChild(o)}else setTimeout(r,5);return!e}function a(t,n,o,r){var a=[t,n,o,r];if(!a.length)return e;"ping"===a[0]?"function"==typeof a[2]&&a[2]({loaded:!1,apiVersion:"1.0"},!0):e.push(a)}function s(e){var n="string"==typeof e.data,o={};try{o=n?JSON.parse(e.data):e.data}catch(e){}var r=o.__launchpadCall;r&&t.__launchpad(r.command,r.version,(function(t,o){if(e.source){var a={__launchpadReturn:{returnValue:t,success:o,callId:r.callId,command:r.command}};n&&(a=JSON.stringify(a)),e.source.postMessage(a,"*")}}),r.parameter)}!t.__launchpad&&r()&&(t.__launchpad=a,t.__launchpad.commandQueue=e,t.__launchpad.start=o,t.addEventListener("message",s,!1))}}()},21:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchModuleReadyEvent=void 0;t.dispatchModuleReadyEvent=async e=>{const t=new CustomEvent(e);window.dispatchEvent(t)}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=r(n(117)),t=n(38),o=r(n(501));function r(e){return e&&e.__esModule?e:{default:e}}n(458);const a=window[t.GLOBAL_NAME]||{};var s;s=a,0===Object.keys(s).length&&s.constructor===Object&&(window[t.GLOBAL_NAME]=a),a.start=function(t){/MSIE/.test(navigator.userAgent)?o.default.info("Your browser is not supported by the LaunchPad. Please update to a more recent one."):t&&t!==Object(t)?fetch(t,{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json())).then((t=>{(0,e.default)({configUpdates:t.config})})).catch((t=>{o.default.error("Failed to load config: ",t),(0,e.default)()})):(0,e.default)({configUpdates:t})}})()})();